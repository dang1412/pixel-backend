import { AssetsBundle, AssetsManifest } from 'pixi.js'

export const manifest: AssetsManifest = {
  bundles: [
    {
      name: 'man-idle-knife',
      assets: {
        'man_idle_knife_0': '/pixel_shooter/man/idle_knife/idle_knife_000.png',
        'man_idle_knife_1': '/pixel_shooter/man/idle_knife/idle_knife_001.png',
        'man_idle_knife_2': '/pixel_shooter/man/idle_knife/idle_knife_002.png',
        'man_idle_knife_3': '/pixel_shooter/man/idle_knife/idle_knife_003.png',
        'man_idle_knife_4': '/pixel_shooter/man/idle_knife/idle_knife_004.png',
        'man_idle_knife_5': '/pixel_shooter/man/idle_knife/idle_knife_005.png',
        'man_idle_knife_6': '/pixel_shooter/man/idle_knife/idle_knife_006.png',
        'man_idle_knife_7': '/pixel_shooter/man/idle_knife/idle_knife_007.png',
      }
    },
    {
      name: 'man-walk-knife',
      assets: {
        'man_walk_knife_0': '/pixel_shooter/man/walk_knife/walk_knife_000.png',
        'man_walk_knife_1': '/pixel_shooter/man/walk_knife/walk_knife_001.png',
        'man_walk_knife_2': '/pixel_shooter/man/walk_knife/walk_knife_002.png',
        'man_walk_knife_3': '/pixel_shooter/man/walk_knife/walk_knife_003.png',
        'man_walk_knife_4': '/pixel_shooter/man/walk_knife/walk_knife_004.png',
        'man_walk_knife_5': '/pixel_shooter/man/walk_knife/walk_knife_005.png',
      }
    },
    {
      name: 'man-hit-knife',
      assets: {
        'man_hit_knife_0': '/pixel_shooter/man/knife/knife_000.png',
        'man_hit_knife_1': '/pixel_shooter/man/knife/knife_001.png',
        'man_hit_knife_2': '/pixel_shooter/man/knife/knife_002.png',
        'man_hit_knife_3': '/pixel_shooter/man/knife/knife_003.png',
        'man_hit_knife_4': '/pixel_shooter/man/knife/knife_004.png',
        'man_hit_knife_5': '/pixel_shooter/man/knife/knife_005.png',
        'man_hit_knife_6': '/pixel_shooter/man/knife/knife_006.png',
        'man_hit_knife_7': '/pixel_shooter/man/knife/knife_007.png',
      }
    },
    {
      name: 'man-idle-gun',
      assets: {
        'man_idle_gun_0': '/pixel_shooter/man/idle_gun/idle_gun_000.png',
        'man_idle_gun_1': '/pixel_shooter/man/idle_gun/idle_gun_001.png',
        'man_idle_gun_2': '/pixel_shooter/man/idle_gun/idle_gun_002.png',
        'man_idle_gun_3': '/pixel_shooter/man/idle_gun/idle_gun_003.png',
        'man_idle_gun_4': '/pixel_shooter/man/idle_gun/idle_gun_004.png',
        'man_idle_gun_5': '/pixel_shooter/man/idle_gun/idle_gun_005.png',
        'man_idle_gun_6': '/pixel_shooter/man/idle_gun/idle_gun_006.png',
        'man_idle_gun_7': '/pixel_shooter/man/idle_gun/idle_gun_007.png',
      }
    },
    {
      name: 'man-walk-gun',
      assets: {
        'man_walk_gun_0': '/pixel_shooter/man/walk_gun/walk_gun_000.png',
        'man_walk_gun_1': '/pixel_shooter/man/walk_gun/walk_gun_001.png',
        'man_walk_gun_2': '/pixel_shooter/man/walk_gun/walk_gun_002.png',
        'man_walk_gun_3': '/pixel_shooter/man/walk_gun/walk_gun_003.png',
        'man_walk_gun_4': '/pixel_shooter/man/walk_gun/walk_gun_004.png',
        'man_walk_gun_5': '/pixel_shooter/man/walk_gun/walk_gun_005.png',
      }
    },
    {
      name: 'man-hit-gun',
      assets: {
        'man_hit_gun_0': '/pixel_shooter/man/gun_shot/gun_shot_000.png',
        'man_hit_gun_1': '/pixel_shooter/man/gun_shot/gun_shot_001.png',
        'man_hit_gun_2': '/pixel_shooter/man/gun_shot/gun_shot_002.png',
        'man_hit_gun_3': '/pixel_shooter/man/gun_shot/gun_shot_003.png',
        'man_hit_gun_4': '/pixel_shooter/man/gun_shot/gun_shot_004.png',
      }
    },
    {
      name: 'man-idle-riffle',
      assets: {
        'man_idle_riffle_0': '/pixel_shooter/man/idle_riffle/idle_riffle_000.png',
        'man_idle_riffle_1': '/pixel_shooter/man/idle_riffle/idle_riffle_001.png',
        'man_idle_riffle_2': '/pixel_shooter/man/idle_riffle/idle_riffle_002.png',
        'man_idle_riffle_3': '/pixel_shooter/man/idle_riffle/idle_riffle_003.png',
        'man_idle_riffle_4': '/pixel_shooter/man/idle_riffle/idle_riffle_004.png',
        'man_idle_riffle_5': '/pixel_shooter/man/idle_riffle/idle_riffle_005.png',
        'man_idle_riffle_6': '/pixel_shooter/man/idle_riffle/idle_riffle_006.png',
        'man_idle_riffle_7': '/pixel_shooter/man/idle_riffle/idle_riffle_007.png',
      }
    },
    {
      name: 'man-walk-riffle',
      assets: {
        'man_walk_riffle_0': '/pixel_shooter/man/walk_riffle/walk_riffle_000.png',
        'man_walk_riffle_1': '/pixel_shooter/man/walk_riffle/walk_riffle_001.png',
        'man_walk_riffle_2': '/pixel_shooter/man/walk_riffle/walk_riffle_002.png',
        'man_walk_riffle_3': '/pixel_shooter/man/walk_riffle/walk_riffle_003.png',
        'man_walk_riffle_4': '/pixel_shooter/man/walk_riffle/walk_riffle_004.png',
        'man_walk_riffle_5': '/pixel_shooter/man/walk_riffle/walk_riffle_005.png',
      }
    },
    {
      name: 'man-hit-riffle',
      assets: {
        'man_hit_riffle_0': '/pixel_shooter/man/riffle/riffle_000.png',
        'man_hit_riffle_1': '/pixel_shooter/man/riffle/riffle_001.png',
        'man_hit_riffle_2': '/pixel_shooter/man/riffle/riffle_002.png',
        'man_hit_riffle_3': '/pixel_shooter/man/riffle/riffle_003.png',
        'man_hit_riffle_4': '/pixel_shooter/man/riffle/riffle_004.png',
        'man_hit_riffle_5': '/pixel_shooter/man/riffle/riffle_005.png',
        'man_hit_riffle_6': '/pixel_shooter/man/riffle/riffle_006.png',
        'man_hit_riffle_7': '/pixel_shooter/man/riffle/riffle_007.png',
        'man_hit_riffle_8': '/pixel_shooter/man/riffle/riffle_008.png',
      }
    },
    {
      name: 'man-idle-bat',
      assets: {
        'man_idle_bat_0': '/pixel_shooter/man/idle_bat/idle_bat_000.png',
        'man_idle_bat_1': '/pixel_shooter/man/idle_bat/idle_bat_001.png',
        'man_idle_bat_2': '/pixel_shooter/man/idle_bat/idle_bat_002.png',
        'man_idle_bat_3': '/pixel_shooter/man/idle_bat/idle_bat_003.png',
        'man_idle_bat_4': '/pixel_shooter/man/idle_bat/idle_bat_004.png',
        'man_idle_bat_5': '/pixel_shooter/man/idle_bat/idle_bat_005.png',
        'man_idle_bat_6': '/pixel_shooter/man/idle_bat/idle_bat_006.png',
        'man_idle_bat_7': '/pixel_shooter/man/idle_bat/idle_bat_007.png',
      }
    },
    {
      name: 'man-walk-bat',
      assets: {
        'man_walk_bat_0': '/pixel_shooter/man/walk_bat/walk_bat_000.png',
        'man_walk_bat_1': '/pixel_shooter/man/walk_bat/walk_bat_001.png',
        'man_walk_bat_2': '/pixel_shooter/man/walk_bat/walk_bat_002.png',
        'man_walk_bat_3': '/pixel_shooter/man/walk_bat/walk_bat_003.png',
        'man_walk_bat_4': '/pixel_shooter/man/walk_bat/walk_bat_004.png',
        'man_walk_bat_5': '/pixel_shooter/man/walk_bat/walk_bat_005.png',
      }
    },
    {
      name: 'man-hit-bat',
      assets: {
        'man_hit_bat_0': '/pixel_shooter/man/bat/bat_000.png',
        'man_hit_bat_1': '/pixel_shooter/man/bat/bat_001.png',
        'man_hit_bat_2': '/pixel_shooter/man/bat/bat_002.png',
        'man_hit_bat_3': '/pixel_shooter/man/bat/bat_003.png',
        'man_hit_bat_4': '/pixel_shooter/man/bat/bat_004.png',
        'man_hit_bat_5': '/pixel_shooter/man/bat/bat_005.png',
        'man_hit_bat_6': '/pixel_shooter/man/bat/bat_006.png',
        'man_hit_bat_7': '/pixel_shooter/man/bat/bat_007.png',
        'man_hit_bat_8': '/pixel_shooter/man/bat/bat_008.png',
        'man_hit_bat_9': '/pixel_shooter/man/bat/bat_009.png',
        // 'man_hit_bat_10': '/pixel_shooter/man/bat/bat_010.png',
        // 'man_hit_bat_11': '/pixel_shooter/man/bat/bat_011.png',
      }
    },
    {
      name: 'gunhit',
      assets: {
        'gun_02': '/pixel_shooter/man/gun_02.png',
        'gun_03': '/pixel_shooter/man/gun_03.png',
      }
    },
    {
      name: 'man-death',
      assets: {
        'man_dead_0': '/pixel_shooter/man/death/death_0000_man.png',
        'man_dead_1': '/pixel_shooter/man/death/death_0001_man.png',
        'man_dead_2': '/pixel_shooter/man/death/death_0002_man.png',
        'man_dead_3': '/pixel_shooter/man/death/death_0003_man.png',
        'man_dead_4': '/pixel_shooter/man/death/death_0004_man.png',
        'man_dead_5': '/pixel_shooter/man/death/death_0005_man.png',
      }
    },
    {
      name: 'man-idle-flame',
      assets: {
        'man_idle_flame_0': '/pixel_shooter/man/idle_firethrower/idle_firethrower_000.png',
        'man_idle_flame_1': '/pixel_shooter/man/idle_firethrower/idle_firethrower_001.png',
        'man_idle_flame_2': '/pixel_shooter/man/idle_firethrower/idle_firethrower_002.png',
        'man_idle_flame_3': '/pixel_shooter/man/idle_firethrower/idle_firethrower_003.png',
        'man_idle_flame_4': '/pixel_shooter/man/idle_firethrower/idle_firethrower_004.png',
        'man_idle_flame_5': '/pixel_shooter/man/idle_firethrower/idle_firethrower_005.png',
        'man_idle_flame_6': '/pixel_shooter/man/idle_firethrower/idle_firethrower_006.png',
        'man_idle_flame_7': '/pixel_shooter/man/idle_firethrower/idle_firethrower_007.png',
      }
    },
    {
      name: 'man-walk-flame',
      assets: {
        'man_walk_flame_0': '/pixel_shooter/man/walk_firethrower/walk_firethrower_000.png',
        'man_walk_flame_1': '/pixel_shooter/man/walk_firethrower/walk_firethrower_001.png',
        'man_walk_flame_2': '/pixel_shooter/man/walk_firethrower/walk_firethrower_002.png',
        'man_walk_flame_3': '/pixel_shooter/man/walk_firethrower/walk_firethrower_003.png',
        'man_walk_flame_4': '/pixel_shooter/man/walk_firethrower/walk_firethrower_004.png',
        'man_walk_flame_5': '/pixel_shooter/man/walk_firethrower/walk_firethrower_005.png',
      }
    },
    {
      name: 'man-hit-flame',
      assets: {
        'man_hit_flame_0': '/pixel_shooter/man/flamethrower/flamethrower_000.png',
        'man_hit_flame_1': '/pixel_shooter/man/flamethrower/flamethrower_001.png',
        'man_hit_flame_2': '/pixel_shooter/man/flamethrower/flamethrower_002.png',
        'man_hit_flame_3': '/pixel_shooter/man/flamethrower/flamethrower_003.png',
        'man_hit_flame_4': '/pixel_shooter/man/flamethrower/flamethrower_004.png',
        'man_hit_flame_5': '/pixel_shooter/man/flamethrower/flamethrower_005.png',
        'man_hit_flame_6': '/pixel_shooter/man/flamethrower/flamethrower_006.png',
        'man_hit_flame_7': '/pixel_shooter/man/flamethrower/flamethrower_007.png',
        'man_hit_flame_8': '/pixel_shooter/man/flamethrower/flamethrower_008.png',
      }
    },

    // zombies
    ...getZombieBundles(1, 1),
    ...getZombieBundles(1, 2),
    ...getZombieBundles(1, 3),
    ...getZombieBundles(1, 4),

    {
      name: 'sample',
      assets: {

      }
    },
  ]
}

// define zombie bundles
function getZombieBundles(l: number, ind: number): AssetsBundle[] {
  const bundles: AssetsBundle[] = []

  const actionLengthMap: {[action: string]: number} = {
    'attack': 9,
    'death': 6,
    'walk': 9,
  }

  for (const action of Object.keys(actionLengthMap)) {
    const name = `zombie-lvl${l}-${ind}-${action}`
    const bundle: AssetsBundle = {
      name,
      assets: {}
    }

    const len = actionLengthMap[action]
    for (let i = 0; i < len; i++) {
      const index = `00${i}`
      const key = `${name}-${i}`
      ;(bundle.assets as any)[key] = `/pixel_shooter/zombies/${l}lvl/zombie${ind}/${action}/${action}_${index}.png`
    }

    bundles.push(bundle)

    console.log('bundle', bundle)
  }

  return bundles
}

export function getZombieStates(l: number, i: number): {[state: string]: string[]} {
  const states: {[state: string]: string[]} = {}
  const bundles = getZombieBundles(l, i)
  for (const bundle of bundles) {
    const key = bundle.name
    states[key] = Object.keys(bundle.assets).sort()
  }

  return states
}

function manifestToCharacterStates(manifest: AssetsManifest): {[state: string]: string[]} {
  const states: {[state: string]: string[]} = {}

  for (const bundle of manifest.bundles) {
    const key = bundle.name
    states[key] = Object.keys(bundle.assets).sort()
  }

  return states
}

export const characterStates = manifestToCharacterStates(manifest)
export const gunhitState = {'gunhit': ['gun_02', 'gun_03']}